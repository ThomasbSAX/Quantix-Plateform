{% include "header.html" %}
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

  <!-- CSS du site -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">

  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Quantix" />
  <meta name="dcterms.date" content="2026-01-11" />
  <title>Top-k Accuracy: A Comprehensive Study</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/cours.css') }}">
</head>
<body>
<header id="title-block-header">
<h1 class="title">Top-k Accuracy: A Comprehensive Study</h1>
<p class="author">Quantix</p>
<p class="date">2026-01-11</p>
</header>
<h1 id="introduction-and-motivations">Introduction and Motivations</h1>
<p>In the realm of machine learning and information retrieval,
evaluating the performance of models is paramount. One such metric that
has gained significant traction is the Top-k Accuracy. This measure is
particularly useful when dealing with multi-class classification
problems or ranking systems where the order of predictions matters.</p>
<p>The concept of Top-k Accuracy emerges from the need to assess models
not just on their ability to predict the correct class, but also on
their capacity to include the correct prediction within the top-k most
likely predictions. This is especially relevant in scenarios where a
single incorrect prediction can lead to significant consequences, and
having the correct answer within a reasonable range of options is
acceptable.</p>
<h1 id="definitions">Definitions</h1>
<p>To understand Top-k Accuracy, let’s first consider what we aim to
achieve. Imagine a scenario where a model predicts not just one class
but a list of classes ordered by their likelihood. We want to know if
the correct class is among the top-k predictions made by the model.</p>
<div class="definition">
<p>Let <span class="math inline">\(y\)</span> be the true class label
and <span class="math inline">\(\hat{y}_1, \hat{y}_2, \ldots,
\hat{y}_n\)</span> be the predicted class labels ordered by their
probabilities <span class="math inline">\(p(\hat{y}_1) \geq p(\hat{y}_2)
\geq \ldots \geq p(\hat{y}_n)\)</span>. The Top-k Accuracy is defined
as:</p>
<p><span class="math display">\[\text{Top-k Accuracy} = \frac{1}{N}
\sum_{i=1}^{N} \mathbb{I}(\hat{y}_k^{(i)} = y^{(i)})\]</span></p>
<p>where <span class="math inline">\(N\)</span> is the total number of
samples, <span class="math inline">\(\hat{y}_k^{(i)}\)</span> represents
the top-k predicted class for the i-th sample, and <span
class="math inline">\(\mathbb{I}\)</span> is the indicator function.</p>
</div>
<p>Alternatively, we can express Top-k Accuracy using set notation:</p>
<p><span class="math display">\[\text{Top-k Accuracy} = \frac{1}{N}
\sum_{i=1}^{N} \mathbb{I}(y^{(i)} \in \{ \hat{y}_1^{(i)},
\hat{y}_2^{(i)}, \ldots, \hat{y}_k^{(i)} \})\]</span></p>
<h1 id="theorems">Theorems</h1>
<p>One of the fundamental theorems related to Top-k Accuracy is the
relationship between Top-1 Accuracy and Top-k Accuracy. Intuitively, if
a model has high Top-1 Accuracy, it is likely to have high Top-k
Accuracy for any <span class="math inline">\(k \geq 1\)</span>.</p>
<div class="theorem">
<p>For any <span class="math inline">\(k \geq 1\)</span>, the Top-k
Accuracy is at least as high as the Top-1 Accuracy. Mathematically,</p>
<p><span class="math display">\[\text{Top-k Accuracy} \geq \text{Top-1
Accuracy}\]</span></p>
<p>Moreover, if the model’s predictions are perfectly calibrated,
then:</p>
<p><span class="math display">\[\text{Top-k Accuracy} = 1 -
\sum_{i=1}^{N} \left(1 - p(\hat{y}_1^{(i)})\right)^k\]</span></p>
</div>
<div class="proof">
<p><em>Proof.</em> The first part of the theorem is straightforward. If
the model correctly predicts the top-1 class, it will also correctly
predict the top-k class for any <span class="math inline">\(k \geq
1\)</span>. Therefore, Top-k Accuracy cannot be lower than Top-1
Accuracy.</p>
<p>For the second part, consider that if the model’s predictions are
perfectly calibrated, the probability of the correct class being in the
top-k predictions can be derived from the cumulative distribution
function of the predicted probabilities. ◻</p>
</div>
<h1 id="properties-and-corollaries">Properties and Corollaries</h1>
<p>Let’s explore some properties of Top-k Accuracy:</p>
<ol type="i">
<li><p><strong>Monotonicity</strong>: For any <span
class="math inline">\(k_1 \leq k_2\)</span>, the Top-<span
class="math inline">\(k_1\)</span> Accuracy is less than or equal to the
Top-<span class="math inline">\(k_2\)</span> Accuracy.</p>
<p><span class="math display">\[\text{Top-}k_1 \text{ Accuracy} \leq
\text{Top-}k_2 \text{ Accuracy}\]</span></p></li>
<li><p><strong>Upper Bound</strong>: The Top-k Accuracy is always less
than or equal to 1.</p>
<p><span class="math display">\[\text{Top-k Accuracy} \leq
1\]</span></p></li>
<li><p><strong>Lower Bound</strong>: The Top-k Accuracy is always
greater than or equal to the Top-1 Accuracy.</p>
<p><span class="math display">\[\text{Top-k Accuracy} \geq \text{Top-1
Accuracy}\]</span></p></li>
<li><p><strong>Perfect Model</strong>: For a perfect model where all
predictions are correct, the Top-k Accuracy is 1 for any <span
class="math inline">\(k \geq 1\)</span>.</p>
<p><span class="math display">\[\text{Top-k Accuracy} = 1 \quad
\text{for all } k \geq 1\]</span></p></li>
</ol>
<h1 id="conclusion">Conclusion</h1>
<p>Top-k Accuracy is a versatile and powerful metric for evaluating the
performance of machine learning models, especially in scenarios where
ranking and multi-class classification are involved. Its properties and
relationship with other accuracy metrics make it an indispensable tool
in the arsenal of any data scientist or machine learning engineer.</p>
</body>
</html>
{% include "footer.html" %}

