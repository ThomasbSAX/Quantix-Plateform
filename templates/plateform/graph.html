<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quantix Graph Studio</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/navbar.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/components.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/graph.css') }}">

  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>

<body>
  {% include 'header.html' %}

  <main class="graph-shell">
    <header class="graph-topbar">
      <div class="graph-title">
        <div class="graph-title__kicker">Plateforme</div>
        <h1 id="graphTypingTitle" style="opacity:0; min-height: 44px;"></h1>
        <p><strong>À venir :</strong> le Graph Studio proposera de nombreuses fonctions permettant de créer des graphes à partir de différents types de données (corrélation, kNN, edgelist, co-occurrence, etc.) avec rendu interactif.</p>
      </div>

     

      <!-- CENTER: viz -->
      <section class="panel panel--main">
        <div class="panel__header">
          <h2>Visualisation</h2>
          <div class="panel__actions">
            <a id="graph-download" class="btn btn--ghost" href="#" style="display:none" download>
              <i class="fa-solid fa-download"></i> Export JSON
            </a>
          </div>
        </div>

        <div id="graph-plot" class="plot">
          <div class="plot__placeholder">
            <div class="plot__placeholder__title">Prêt.</div>
            <div class="plot__placeholder__hint">Choisissez un type de graphe et cliquez sur “Générer”.</div>
          </div>
        </div>

        <div id="graph-summary" class="summary" style="display:none"></div>
      </section>

      <!-- RIGHT: metrics -->
      <aside class="panel">
        <div class="panel__header">
          <h2>Métriques</h2>
        </div>
        <div id="graph-metrics" class="metrics">
          <div class="muted">Aucune métrique pour le moment.</div>
        </div>
      </aside>
    </section>
  </main>

  <script>
    function typeWriter(element, text, speed, callback) {
      let i = 0;
      element.textContent = '';
      element.style.opacity = '1';
      function type() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else if (callback) {
          setTimeout(callback, 300);
        }
      }
      type();
    }

    document.addEventListener('DOMContentLoaded', function() {
      const h = document.getElementById('graphTypingTitle');
      if (h) typeWriter(h, 'Graph Studio', 80);
    });
  </script>

  {% include 'footer.html' %}

  <script src="{{ url_for('static', filename='js/graph.js') }}"></script>
</body>
</html>
